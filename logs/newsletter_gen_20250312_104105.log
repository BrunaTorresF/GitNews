2025-03-12 10:41:05,579 - newsletter_generator - INFO - Sistema de logging inicializado
2025-03-12 10:41:14,892 - newsletter_generator - INFO - Iniciando geração de newsletter...
2025-03-12 10:41:14,902 - newsletter_generator - INFO - Estilo selecionado: empresarial
2025-03-12 10:41:14,962 - newsletter_generator - INFO - 
Grafo de Execução Planejado:
2025-03-12 10:41:14,992 - newsletter_generator - INFO - %%{init: {'flowchart': {'curve': 'linear'}}}%%
graph TD
    %% Grafo de Execução da Newsletter
    classDef default fill:#f2f0ff,stroke:#333,stroke-width:2px
    classDef start fill:#9f9,stroke:#333,stroke-width:2px
    classDef end fill:#f99,stroke:#333,stroke-width:2px
    classDef active fill:#ff9,stroke:#333,stroke-width:2px;
	__start__([<p>__start__</p>]):::first
	github_agent(github_agent)
	newsletter_agent(newsletter_agent)
	formatter_agent(formatter_agent)
	state_logger(state_logger)
	__end__([<p>__end__</p>]):::last
	__start__ --> github_agent;
	formatter_agent --> __end__;
	formatter_agent --> state_logger;
	github_agent --> newsletter_agent;
	github_agent --> state_logger;
	newsletter_agent --> state_logger;
	state_logger --> __end__;
	newsletter_agent -.-> formatter_agent;
	newsletter_agent -.-> __end__;
	classDef default fill:#f2f0ff,line-height:1.2
	classDef first fill-opacity:0
	classDef last fill:#bfb6fc

2025-03-12 10:41:15,122 - newsletter_generator - INFO - 
Estado atual do grafo:
2025-03-12 10:41:15,124 - newsletter_generator - INFO - %%{init: {'flowchart': {'curve': 'linear'}}}%%
graph TD;
	__start__([<p>__start__</p>]):::first
	github_agent(github_agent)
	newsletter_agent(newsletter_agent)
	formatter_agent(formatter_agent)
	state_logger(state_logger)
	__end__([<p>__end__</p>]):::last
	__start__ --> github_agent;
	formatter_agent --> __end__;
	formatter_agent --> state_logger;
	github_agent --> newsletter_agent;
	github_agent --> state_logger;
	newsletter_agent --> state_logger;
	state_logger --> __end__;
	newsletter_agent -.-> formatter_agent;
	newsletter_agent -.-> __end__;
	classDef default fill:#f2f0ff,line-height:1.2
	classDef first fill-opacity:0
	classDef last fill:#bfb6fc

2025-03-12 10:41:15,131 - newsletter_generator - INFO - ==================================================
2025-03-12 10:41:15,136 - newsletter_generator - INFO - ==================================================
2025-03-12 10:41:15,136 - newsletter_generator - INFO - INICIANDO NEWSLETTER AGENT
2025-03-12 10:41:15,136 - newsletter_generator - INFO - Estado atual do workflow:
2025-03-12 10:41:15,136 - newsletter_generator - INFO - Estado recebido: {'user_input': [HumanMessage(content='', additional_kwargs={}, response_metadata={}, id='50fc4e20-1780-4db0-adb2-47f2a75798bd'), HumanMessage(content='https://github.com/flrdv/pycalc', additional_kwargs={}, response_metadata={}, id='78e32425-ef0d-4668-83fe-ea886986d765')], 'github_data': None, 'newsletter_content': None, 'formatted_newsletter': None, 'newsletter_style': 'empresarial', 'error': "'HumanMessage' object has no attribute 'strip'", 'output_file': None}
2025-03-12 10:41:15,141 - newsletter_generator - INFO - Tem github_data: True
2025-03-12 10:41:15,143 - newsletter_generator - INFO - ==================================================
2025-03-12 10:41:15,152 - newsletter_generator - INFO - Tem newsletter_content: True
2025-03-12 10:41:15,152 - newsletter_generator - INFO - Iniciando newsletter_agent
2025-03-12 10:41:15,152 - newsletter_generator - INFO - Tem formatted_newsletter: True
2025-03-12 10:41:15,152 - newsletter_generator - ERROR - Erro inesperado ao gerar newsletter: 'NoneType' object is not subscriptable
Traceback (most recent call last):
  File "c:\Users\bruna.torres\OneDrive - Santa Lucia\Documentos\Bruna\lang.py", line 186, in newsletter_agent
    logger.info(f"Gerando newsletter para o repositório: {github_data['repo_name']}")
                                                          ~~~~~~~~~~~^^^^^^^^^^^^^
TypeError: 'NoneType' object is not subscriptable
2025-03-12 10:41:15,152 - newsletter_generator - INFO - Tem erro: True
2025-03-12 10:41:15,166 - newsletter_generator - INFO - Determinando próximo passo. Estado atual: state.get('error')="Erro inesperado ao gerar newsletter: 'NoneType' object is not subscriptable", tem github_data: True, tem newsletter_content: True, tem formatted_newsletter: True
2025-03-12 10:41:15,166 - newsletter_generator - INFO - ==================================================
2025-03-12 10:41:15,171 - newsletter_generator - INFO - Finalizando workflow devido a erro
2025-03-12 10:41:15,171 - newsletter_generator - INFO - 
Estado atual do grafo:
2025-03-12 10:41:15,171 - newsletter_generator - INFO - %%{init: {'flowchart': {'curve': 'linear'}}}%%
graph TD;
	__start__([<p>__start__</p>]):::first
	github_agent(github_agent)
	newsletter_agent(newsletter_agent)
	formatter_agent(formatter_agent)
	state_logger(state_logger)
	__end__([<p>__end__</p>]):::last
	__start__ --> github_agent;
	formatter_agent --> __end__;
	formatter_agent --> state_logger;
	github_agent --> newsletter_agent;
	github_agent --> state_logger;
	newsletter_agent --> state_logger;
	state_logger --> __end__;
	newsletter_agent -.-> formatter_agent;
	newsletter_agent -.-> __end__;
	classDef default fill:#f2f0ff,line-height:1.2
	classDef first fill-opacity:0
	classDef last fill:#bfb6fc

2025-03-12 10:41:15,191 - newsletter_generator - INFO - 
Estado atual do grafo:
2025-03-12 10:41:15,201 - newsletter_generator - INFO - %%{init: {'flowchart': {'curve': 'linear'}}}%%
graph TD;
	__start__([<p>__start__</p>]):::first
	github_agent(github_agent)
	newsletter_agent(newsletter_agent)
	formatter_agent(formatter_agent)
	state_logger(state_logger)
	__end__([<p>__end__</p>]):::last
	__start__ --> github_agent;
	formatter_agent --> __end__;
	formatter_agent --> state_logger;
	github_agent --> newsletter_agent;
	github_agent --> state_logger;
	newsletter_agent --> state_logger;
	state_logger --> __end__;
	newsletter_agent -.-> formatter_agent;
	newsletter_agent -.-> __end__;
	classDef default fill:#f2f0ff,line-height:1.2
	classDef first fill-opacity:0
	classDef last fill:#bfb6fc

2025-03-12 10:41:15,221 - newsletter_generator - INFO - 
Grafo de Execução Final:
2025-03-12 10:41:15,221 - newsletter_generator - INFO - %% Erro em unknown: At key 'github_data': Can receive only one value per step. Use an Annotated key to handle multiple values.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_CONCURRENT_GRAPH_UPDATE
2025-03-12 10:41:15,226 - newsletter_generator - INFO - %%{init: {'flowchart': {'curve': 'linear'}}}%%
graph TD
    %% Execução Finalizada
    classDef default fill:#f2f0ff,stroke:#333,stroke-width:2px
    classDef executed fill:#90EE90,stroke:#006400,stroke-width:2px
    classDef error fill:#FFB6C1,stroke:#8B0000,stroke-width:2px
    classDef active fill:#ff9,stroke:#333,stroke-width:2px;
	__start__([<p>__start__</p>]):::first
	github_agent(github_agent)
	newsletter_agent(newsletter_agent)
	formatter_agent(formatter_agent)
	state_logger(state_logger)
	__end__([<p>__end__</p>]):::last
	__start__ --> github_agent;
	formatter_agent --> __end__;
	formatter_agent --> state_logger;
	github_agent --> newsletter_agent;
	github_agent --> state_logger;
	newsletter_agent --> state_logger;
	state_logger --> __end__;
	newsletter_agent -.-> formatter_agent;
	newsletter_agent -.-> __end__;
	classDef default fill:#f2f0ff,line-height:1.2
	classDef first fill-opacity:0
	classDef last fill:#bfb6fc

2025-03-12 10:41:15,251 - newsletter_generator - ERROR - Erro durante a execução: At key 'github_data': Can receive only one value per step. Use an Annotated key to handle multiple values.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_CONCURRENT_GRAPH_UPDATE
